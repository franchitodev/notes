<!DOCTYPE html>
<html class="dark" lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Registro</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <script>
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                "primary": "#7317cf",
                "background-light": "#f7f6f8",
                "background-dark": "#121212",
              },
              fontFamily: {
                "display": ["Inter", "sans-serif"]
              },
              borderRadius: {
                "DEFAULT": "0.25rem",
                "lg": "0.5rem",
                "xl": "0.75rem",
                "full": "9999px"
              },
            },
          },
        }
    </script>
    <style>
        body {
          min-height: max(884px, 100dvh);
        }
    </style>
</head>
<body class="font-display">
<div class="relative flex h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark group/design-root overflow-x-hidden p-4">
    <div class="flex w-full max-w-sm flex-col items-stretch justify-center">
        <h1 class="text-white tracking-light text-center text-3xl font-bold leading-tight pt-6 pb-12">Crear cuenta</h1>

        <!-- Mensajes de feedback -->
        <div th:if="${error}" class="text-red-500 text-center mb-4" th:text="${error}"></div>
        <div th:if="${success}" class="text-green-500 text-center mb-4" th:text="${success}"></div>

        <!-- Formulario de registro -->
        <form th:action="@{/signup}" method="post" class="flex flex-col gap-y-4">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

            <label class="flex flex-col flex-1">
                <p class="text-neutral-300 text-sm font-medium leading-normal pb-2">Usuario</p>
                <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-white border border-[#404040] bg-[#1d1d1d] focus:border-white h-12 placeholder:text-[#a9a9a9] p-3 text-base font-normal leading-normal"
                       type="text" name="username" placeholder="Usuario" required/>
            </label>

            <label class="flex flex-col flex-1">
                <p class="text-neutral-300 text-sm font-medium leading-normal pb-2">Contraseña</p>
                <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-white border border-[#404040] bg-[#1d1d1d] focus:border-white h-12 placeholder:text-[#a9a9a9] p-3 text-base font-normal leading-normal"
                       type="password" name="password" placeholder="Contraseña" required/>
            </label>

            <button type="submit" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 flex-1 bg-white text-black text-base font-bold leading-normal tracking-[0.015em] hover:bg-neutral-200 active:bg-neutral-300 mt-4">
                Registrarse
            </button>
        </form>

        <p class="text-[#a9a9a9] text-sm font-normal leading-normal pb-3 pt-4 px-4 text-center underline cursor-pointer hover:text-white">
            ¿Ya tienes cuenta? <a th:href="@{/login}" class="text-white">Inicia sesión</a>
        </p>
    </div>
    <!-- Mensajes de feedback -->
    <div th:if="${param.error}" class="text-red-500 text-center mb-4">
        Error: el usuario ya existe o el usuario/contraseña no cumple los requisitos
    </div>
    <div th:if="${success}" class="text-green-500 text-center mb-4" th:text="${success}"></div>

</div>
</body>
</html>